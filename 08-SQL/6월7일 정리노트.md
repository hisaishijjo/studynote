# MYSQL

## 1. 데이터베이스 시스템의 이해

### 1-1. 자료와 정보의구분

1. 자료란 그 자체만으로는 아무런 의미가 없는 키워드일 뿐이다.
2. 자료를 활용하는 프로그램은 해당 자료에 의미를 부여하고,그를통해 의사결정이 가능하도록 정보화 한다.
3. 위의 화면은 표시되는 내용을 수정한 후 '저장' 여부에 대한 의사 결정을 수행한다.

### 1-2. 데이터베이스란?

> 데이터베이스 : 공유하여 사용될 목적으로 통합하여 관리하는 데이터 집합

전통적인 데이터 저장방법인 파일시스템(FILES SYSTEM)의 경우
어떠한 자료를 찾으려 할때 바이트스트림 의 처음부터 읽기 시작하고
중간에 데이터를 변경하거나 추가/삭제하기 어려운 점이 있으며 데이터의 중복이나 불일치 현상이 발생할 수있다.
특히 대용량 데이터일 경우 이러한 단점이 더욱 심각해지는 경향이 있다.
또한 파일내용의 접근 권한 설정이 미흡하여 중요한 데이터의 대한 보안 이슈가 있다.

### 1-3. DBMS(Database Managerment System)

사용자가 새로운 데이터베이스의 생성 및 구조를 명시할 수 있도록 하며
데이터를 효율적으로 검색,수정,삽입 및 삭제할 수 있도록 하여,
시스템의 고장이나 권한이 없는 사용자의 접근등으로부터 데이터를 안전하게 보호하고 관리하는 소프트웨어 패키지

### 1-4. DBMS종류

1. ORACLE
2. MYSQL
3. SQL Server(MICROSOFT)
4. CUBRID
5. ALTIBASE
6. IMG(DB2)

### 1-5. SQL (Stuctured Query Language)

> 데이터 베이스에 저장된 데이터를 조회,입력,수정,삭제 하는 등의 조작이나 테이블을 비롯한 다양한 객체(시퀀스,인덱스)를 생성 및 제어하는 언어

| 이름 | 설명                                                                                                                                   |
| ---- | -------------------------------------------------------------------------------------------------------------------------------------- |
| DDL  | 데이터 정의어(Data Definition Language)<br>데이터베이스 관리자나 응용 프로그래머가 데이터베이스의 논리적 구조를 정의 하기 위한 언어    |
| DML  | 데이터 조작어(Data Manipulation Language)<br>데이터베이스에 저장된 데이터를 조작하기 위해 사용<br>검색,추가,삭제,갱신 작업을 수행한다. |
| DCL  | 데이터 제어어(Data Control Language)<br>데이터에 대한 접근 권한 부여등 데이터베이스 시스템 및 트랜젝션을 관리하기 위한 언어            |
|      |                                                                                                                                        |

## 2. MySQL Database 구축

### 2-1. MySQL다운로드 받기

#### 2-1-1. Microsoft Visual C++ 재배포 가능 도구 설치

> 1. MySQl은 Visual C++ 재배포 가능 도구에 의존한다

[통합버전 내려받기](https://docs.microsoft.com/ko-KR/cpp/windows/latest-supported-vc-redist?view=msvc-170)

#### 2-1-2. MySQL 다운로드받기(window)및 설정

> 인스톨 버전의 경우 윈도우 시스템 상태에 따라 설치에 실패하는경우가 많으니 아래 압축패키지를 수동설치하는것이 좋다(로그인 과정을 생략하고 파일을 바로 다운로드 받는다)

[다운로드 사이트](https://dev.mysql.com/downloads/mysql/)

1. 다운로드 받은 압축을 적당한 위치에 해제한다
2. "data" 라는 이름의 폴더를 생성한다
3. 빈 텍스트 파일을 생성하고 이름을 "my.ini"로 변경하고 설정항목을 입력한다
   3-1. [mysqld]
   basedir="mysql압축파일을 해제한위치"
   datadir="위와동일한 위치\data"
   port=3306
4. 내pc > 속성 > 고급시스템설정 > 환경변수 로 들어간다.
5. '시스템변수'에서 "새로만들기" > 변수이름 (MYSQL_HOME) 변수값에 "mysql압축파일을 해제한위치" 입력후 확인
6. '시스템변수'에서 path를 찾아 > 편집 >새로만들기 > "mysql압축파일을 해제한위치\bin" 입력후 확인
7. 명령프롬프트를 관리자 권한으로 실행하고(windowKey + R cmd 입력후 ctrl+shift+enter) > mysqld --initialize 입력 data파일안에 파일들이 생성되었는지 확인한다.
8. mysql을 윈도우 서비스로 등록하기 위한 명령어 "mysql --install" 입력후 등록된 서비스를 구동하기 위한 명령어 "net start MySQL" 입력
9. data 폴더안에 "컴퓨터이름.err"의 형식의 파일을 메모장으로 확인한다 (임시비밀번호 확인)
10. 명령 프롬프트를 일반사용자 권한으로 실행하고 "mysql -uroot -p" 입력후 나오는 password에 data에서 확인한 임시비밀번호를 적어준다.
11. 관리자 계정의 비밀번호를 변경하기 위해선 "alter user 'root'@'localhost' identified with mysql_native_password by '사용할 비밀번호'; 입력한뒤 "exit"로 나와준다

### 3. 데이터베이스 구축

1. 명령 프롬프트 상에서 sql파일이 위한 디렉토리로 이동한다
2. mysql -uroot -p < 데이터파일이름 을 입력한뒤 password를 입력한다
3. "use myschool"을 입력한뒤 select \* from department; 를입력하여 결과를 확인하다.

## 3-1. 데이터베이스 살표보기

> DBMS 안에는 여러개의 데이터베이스가 존재할수 있다.

1. 현재 시스템 안의 데이터베이스 목록을 보기 위해선 "show databases;"를 입력한다.

2. 사용할 데이터베이스를 열기 위해선 "use (데이터베이스 이름)"을 입력한다.

3. 하나의 데이터베이스 안에는 자료를 관리하기 위한 표 (table)이 존재한다 table들을 살표보기 위해선 "show tables;"를 입력한다

4. 테이블의 구성요소로는 행= 표의내용 = 한줄 = 하나의 데이터 = (레코드(Record)) 와 열 = 표의항목 (컬럼(Column)or 필드(Field))가 있다.

5. Table의 구조를 알아볼때 "desc (테이블이름)" 을입력하면 확인할수 있다.

6. table의 filed마다 type이 존재한다

| 이름     | 설명            |
| -------- | --------------- |
| int      | 정수            |
| varchar  | 가변길이 문자열 |
| datetime | 날짜형식        |
| char     | 고정길이 문자열 |
|          |                 |

## 4. 데이터베이스 조회하기

### 4-1 전체데이터 조회(1)

> select \* from <테이블이름>;

### 4-2. 전체데이터 조회(2)

> select 컬럼1,컬럼2,...,컬럼n from <테이블이름>;

### 4-3. 원하는데이터만 조회

> select 컬럼1 from <테이블이름>;

### 4-4. 검색결과의 중복 행 제거하기

> select distinct 컬럼 or (\*) from <테이블이름>;

### 4-5. 컬럼에 대한 별칭부여 (1)

> select 컬럼1 `별칭1`, 컬럼2 `별칭2`, ..., 컬럼n `별칭n` from <테이블이름>

### 4-6. 컬럼에 대한 별칭부여 (2)

> select 컬럼1 as `별칭1`, 컬럼2 as `별칭2`,... from <테이블이름>

### 4-7. 산술 연산자 사용

> select name, sal, sal\*12+100 from <테이블이름>

### 4-8. 검색 조건 지정 (1)

> select 컬럼1 from <테이블이름> where 검색조건

### 4-8-1. 검색조건 종류

| 기능 | 설명                            |
| ---- | ------------------------------- |
| =    | 같다                            |
| >    | 크다(초과)                      |
| <    | 작다(미만)                      |
| !=   | 다르다                          |
| >=   | 크거나같다(이상)                |
| <=   | 작거나같다(이하)                |
| AND  | 모든조건이참일때 참을 반환      |
| OR   | 모든조건이 거짓일때 거짓을 반환 |
| NOT  | 조건과 반대되는 결과를 반환     |
|      |                                 |